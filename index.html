<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø®ØªØ¨Ø§Ø± Ø±Ø³Ù… Ø§Ù„Ø£Ø´ÙƒØ§Ù„ - Ø§Ù„Ø¯Ø±Ø³ 3</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0d95f7 0%, #052532 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        .quiz-header {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
        }

        .quiz-title {
            color: #052532;
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .quiz-info {
            color: #0d95f7;
            font-size: 1.2em;
            margin-bottom: 15px;
        }

       

        .question-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            display: none;
        }

        .question-card.active {
            display: block;
        }

        .question-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }

        .question-number {
            background: #0d95f7;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-left: 15px;
        }

        .question-points {
            background: #052532;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            margin-right: auto;
        }

        .question-text {
            font-size: 1.3em;
            color: #052532;
            margin-bottom: 25px;
            line-height: 1.6;
            font-weight: 500;
        }

        .instruction-box {
            background: #e8f4fd;
            border-right: 4px solid #0d95f7;
            padding: 20px;
            margin-bottom: 25px;
            border-radius: 8px;
        }

        .instruction-title {
            color: #052532;
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .instruction-text {
            color: #666;
            line-height: 1.5;
        }

        .options {
            margin-bottom: 30px;
        }

        .option {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 15px 20px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1em;
        }

        .option:hover {
            background: #e8f4fd;
            border-color: #0d95f7;
        }

        .option.selected {
            background: #0d95f7;
            color: white;
            border-color: #0d95f7;
        }

        .matching-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .matching-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #e9ecef;
        }

        .matching-label {
            font-weight: bold;
            margin-bottom: 10px;
            color: #052532;
        }

        .dropdown {
            width: 100%;
            padding: 10px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1em;
            background: white;
        }

        .dropdown:focus {
            border-color: #0d95f7;
            outline: none;
        }

        .ordering-container {
            margin-bottom: 30px;
        }

        .ordering-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #e9ecef;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .order-number {
            background: #0d95f7;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: #0d95f7;
            color: white;
        }

        .btn-primary:hover {
            background: #0b7fd1;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #052532;
            color: white;
        }

        .btn-secondary:hover {
            background: #073a4a;
            transform: translateY(-2px);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .progress-bar {
            background: #e9ecef;
            height: 8px;
            border-radius: 4px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #0d95f7, #052532);
            height: 100%;
            transition: width 0.3s ease;
        }

        .results-container {
            background: white;
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            display: none;
        }

        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: conic-gradient(#0d95f7 0deg, #0d95f7 var(--score-angle), #e9ecef var(--score-angle));
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 30px;
            position: relative;
        }

        .score-inner {
            width: 120px;
            height: 120px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .score-text {
            font-size: 2em;
            font-weight: bold;
            color: #052532;
        }

        .review-container {
            display: none;
            margin-top: 30px;
        }

        .review-question {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .review-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .review-status {
            font-size: 1.5em;
            margin-left: 10px;
        }

        .answer-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .answer-box {
            padding: 15px;
            border-radius: 10px;
            border: 2px solid;
        }

        .student-answer {
            background: #fff5f5;
            border-color: #fed7d7;
        }

        .correct-answer {
            background: #f0fff4;
            border-color: #c6f6d5;
        }

        .explanation {
            background: #e8f4fd;
            padding: 20px;
            border-radius: 10px;
            margin-top: 15px;
            border-right: 4px solid #0d95f7;
        }

        .blocked-message {
            background: white;
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            display: none;
        }

        .blocked-icon {
            font-size: 4em;
            color: #dc3545;
            margin-bottom: 20px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .quiz-title {
                font-size: 2em;
            }
            
            .matching-container {
                grid-template-columns: 1fr;
            }
            
            .answer-comparison {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Blocked Message -->
        <div id="blockedMessage" class="blocked-message">
            <div class="blocked-icon">ğŸš«</div>
            <h2 style="color: #dc3545; margin-bottom: 20px;">ØªÙ… Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ù…Ø³Ø¨Ù‚Ø§Ù‹</h2>
            <p style="font-size: 1.2em; color: #666; margin-bottom: 30px;">
                Ù„Ù‚Ø¯ Ù‚Ù…Øª Ø¨Ø£Ø¯Ø§Ø¡ Ù‡Ø°Ø§ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ù…Ù† Ù‚Ø¨Ù„ Ù…Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¬Ù‡Ø§Ø². ÙƒÙ„ Ø·Ø§Ù„Ø¨ ÙŠÙ…ÙƒÙ†Ù‡ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·.
            </p>
            <p style="color: #999;">
                Ø¥Ø°Ø§ ÙƒÙ†Øª ØªØ¹ØªÙ‚Ø¯ Ø£Ù† Ù‡Ù†Ø§Ùƒ Ø®Ø·Ø£ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù…Ø¹Ù„Ù….
            </p>
        </div>

        <!-- Quiz Header -->
        <div class="quiz-header">
            <h1 class="quiz-title">ğŸ¨ Ø§Ø®ØªØ¨Ø§Ø± Ø±Ø³Ù… Ø§Ù„Ø£Ø´ÙƒØ§Ù„</h1>
            <div class="quiz-info">ğŸ“˜ Ø§Ù„Ø¯Ø±Ø³ 3 - Ø±Ø³Ù… Ø§Ù„Ø£Ø´ÙƒØ§Ù„</div>
        </div>

        <!-- Progress Bar -->
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill" style="width: 0%"></div>
        </div>

        <!-- Question 1: Matching -->
        <div class="question-card active" id="question1">
            <div class="question-header">
                <div class="question-number">1</div>
                <div class="question-points">4 Ù†Ù‚Ø§Ø·</div>
            </div>
            
            <div class="instruction-box">
                <div class="instruction-title">ğŸ’¡ ÙƒÙŠÙÙŠØ© Ø­Ù„ Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø©:</div>
                <div class="instruction-text">
                    Ø§Ù‚Ø±Ø£ ÙƒÙ„ Ø¹Ù†ØµØ± ÙÙŠ Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø£ÙŠØ³Ø± Ø¨Ø¹Ù†Ø§ÙŠØ©ØŒ Ø«Ù… Ø§Ø®ØªØ± Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù‡ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø©. ØªØ°ÙƒØ± Ø£Ù† Ø§Ù„Ø³ØªÙŠØ¬ ÙÙŠ Ø³ÙƒØ±Ø§ØªØ´ ÙŠØ¨Ø¯Ø£ Ù…Ù† Ø§Ù„Ù†Ù‚Ø·Ø© (0,0) ÙÙŠ Ø§Ù„Ù…Ù†ØªØµÙ.
                </div>
            </div>

            <div class="question-text">
                Ø·Ø§Ø¨Ù‚ Ø¨ÙŠÙ† Ù‚ÙŠÙ… Ø£Ø¨Ø¹Ø§Ø¯ Ø§Ù„Ø³ØªÙŠØ¬ (Stage) Ù…Ø¹ Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„ØµØ­ÙŠØ­Ø©:
            </div>

            <div class="matching-container">
                <div class="matching-item">
                    <div class="matching-label">Ø£Ù‚Ù„ Ù‚ÙŠÙ…Ø© Ù„Ù€ X</div>
                    <select class="dropdown" data-answer="-240">
                        <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù‚ÙŠÙ…Ø©</option>
                        <option value="-240">-240</option>
                        <option value="240">240</option>
                        <option value="-180">-180</option>
                        <option value="180">180</option>
                    </select>
                </div>
                <div class="matching-item">
                    <div class="matching-label">Ø£Ø¹Ù„Ù‰ Ù‚ÙŠÙ…Ø© Ù„Ù€ X</div>
                    <select class="dropdown" data-answer="240">
                        <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù‚ÙŠÙ…Ø©</option>
                        <option value="-240">-240</option>
                        <option value="240">240</option>
                        <option value="-180">-180</option>
                        <option value="180">180</option>
                    </select>
                </div>
                <div class="matching-item">
                    <div class="matching-label">Ø£Ù‚Ù„ Ù‚ÙŠÙ…Ø© Ù„Ù€ Y</div>
                    <select class="dropdown" data-answer="-180">
                        <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù‚ÙŠÙ…Ø©</option>
                        <option value="-240">-240</option>
                        <option value="240">240</option>
                        <option value="-180">-180</option>
                        <option value="180">180</option>
                    </select>
                </div>
                <div class="matching-item">
                    <div class="matching-label">Ø£Ø¹Ù„Ù‰ Ù‚ÙŠÙ…Ø© Ù„Ù€ Y</div>
                    <select class="dropdown" data-answer="180">
                        <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù‚ÙŠÙ…Ø©</option>
                        <option value="-240">-240</option>
                        <option value="240">240</option>
                        <option value="-180">-180</option>
                        <option value="180">180</option>
                    </select>
                </div>
            </div>

            <div class="navigation">
                <div></div>
                <button class="btn btn-primary" onclick="nextQuestion()">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ â†</button>
            </div>
        </div>

        <!-- Question 2: Multiple Choice -->
        <div class="question-card" id="question2">
            <div class="question-header">
                <div class="question-number">2</div>
                <div class="question-points">2 Ù†Ù‚Ø·Ø©</div>
            </div>

            <div class="instruction-box">
                <div class="instruction-title">ğŸ’¡ ÙƒÙŠÙÙŠØ© Ø­Ù„ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ù…ØªØ¹Ø¯Ø¯:</div>
                <div class="instruction-text">
                    Ø§Ù‚Ø±Ø£ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø¨Ø¹Ù†Ø§ÙŠØ©ØŒ Ø«Ù… ÙÙƒØ± ÙÙŠ ÙƒÙ„ Ø®ÙŠØ§Ø±. Ø§Ø³ØªØ¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØªÙŠ ØªØ¹Ø±Ù Ø£Ù†Ù‡Ø§ Ø®Ø§Ø·Ø¦Ø© Ø£ÙˆÙ„Ø§Ù‹ØŒ Ø«Ù… Ø§Ø®ØªØ± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ø£ÙƒØ«Ø± Ù…Ù†Ø·Ù‚ÙŠØ©.
                </div>
            </div>

            <div class="question-text">
                Ø£ÙŠ Ø¨Ù„ÙˆÙƒ ÙŠØ®Ù„ÙŠ Ø§Ù„Ø³Ø¨Ø±Ø§ÙŠØª ÙŠØ±Ø³Ù… Ø¹Ù„Ù‰ Ø§Ù„Ø³ØªÙŠØ¬ØŸ
            </div>

            <div class="options">
                <div class="option" onclick="selectOption(this, false)">pen up block</div>
                <div class="option" onclick="selectOption(this, true)">pen down block</div>
                <div class="option" onclick="selectOption(this, false)">erase all block</div>
            </div>

            <div class="navigation">
                <button class="btn btn-secondary" onclick="prevQuestion()">â†’ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
                <button class="btn btn-primary" onclick="nextQuestion()">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ â†</button>
            </div>
        </div>

        <!-- Question 3: Ordering -->
        <div class="question-card" id="question3">
            <div class="question-header">
                <div class="question-number">3</div>
                <div class="question-points">4 Ù†Ù‚Ø§Ø·</div>
            </div>

            <div class="instruction-box">
                <div class="instruction-title">ğŸ’¡ ÙƒÙŠÙÙŠØ© Ø­Ù„ Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ØªØ±ØªÙŠØ¨:</div>
                <div class="instruction-text">
                    ÙÙƒØ± ÙÙŠ Ø§Ù„ØªØ³Ù„Ø³Ù„ Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ Ù„Ù„Ø®Ø·ÙˆØ§Øª. Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø£ÙˆÙ„Ù‰ØŸ ÙˆÙ…Ø§ Ø§Ù„Ø°ÙŠ ÙŠØ£ØªÙŠ Ø¨Ø¹Ø¯Ù‡Ø§ØŸ Ø±ØªØ¨ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ù…Ù† 1 Ø¥Ù„Ù‰ 4 Ø­Ø³Ø¨ Ø§Ù„ØªØ³Ù„Ø³Ù„ Ø§Ù„ØµØ­ÙŠØ­.
                </div>
            </div>

            <div class="question-text">
                Ø±ØªØ¨ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØµØ­ÙŠØ­Ø© Ù„Ø±Ø³Ù… Ù…Ø±Ø¨Ø¹:
            </div>

            <div class="ordering-container">
                <div class="ordering-item">
                    <div class="order-number">1</div>
                    <select class="dropdown" data-answer="clear the stage">
                        <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø£ÙˆÙ„Ù‰</option>
                        <option value="clear the stage">clear the stage</option>
                        <option value="pen down">pen down</option>
                        <option value="repeat 4 times: move 100 steps and turn 90 degrees">repeat 4 times: move 100 steps and turn 90 degrees</option>
                        <option value="pen up">pen up</option>
                    </select>
                </div>
                <div class="ordering-item">
                    <div class="order-number">2</div>
                    <select class="dropdown" data-answer="pen down">
                        <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø«Ø§Ù†ÙŠØ©</option>
                        <option value="clear the stage">clear the stage</option>
                        <option value="pen down">pen down</option>
                        <option value="repeat 4 times: move 100 steps and turn 90 degrees">repeat 4 times: move 100 steps and turn 90 degrees</option>
                        <option value="pen up">pen up</option>
                    </select>
                </div>
                <div class="ordering-item">
                    <div class="order-number">3</div>
                    <select class="dropdown" data-answer="repeat 4 times: move 100 steps and turn 90 degrees">
                        <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø«Ø§Ù„Ø«Ø©</option>
                        <option value="clear the stage">clear the stage</option>
                        <option value="pen down">pen down</option>
                        <option value="repeat 4 times: move 100 steps and turn 90 degrees">repeat 4 times: move 100 steps and turn 90 degrees</option>
                        <option value="pen up">pen up</option>
                    </select>
                </div>
                <div class="ordering-item">
                    <div class="order-number">4</div>
                    <select class="dropdown" data-answer="pen up">
                        <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©</option>
                        <option value="clear the stage">clear the stage</option>
                        <option value="pen down">pen down</option>
                        <option value="repeat 4 times: move 100 steps and turn 90 degrees">repeat 4 times: move 100 steps and turn 90 degrees</option>
                        <option value="pen up">pen up</option>
                    </select>
                </div>
            </div>

            <div class="navigation">
                <button class="btn btn-secondary" onclick="prevQuestion()">â†’ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
                <button class="btn btn-primary" onclick="nextQuestion()">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ â†</button>
            </div>
        </div>

        <!-- Question 4: Multiple Choice -->
        <div class="question-card" id="question4">
            <div class="question-header">
                <div class="question-number">4</div>
                <div class="question-points">2 Ù†Ù‚Ø·Ø©</div>
            </div>

            <div class="instruction-box">
                <div class="instruction-title">ğŸ’¡ Ù†ØµÙŠØ­Ø© Ù„Ù„Ø­Ù„:</div>
                <div class="instruction-text">
                    ÙÙƒØ± ÙÙŠ Ø´ÙƒÙ„ Ø§Ù„Ù…Ø«Ù„Ø« - ÙƒÙ… Ø¶Ù„Ø¹ Ù„Ù‡ØŸ Ù‡Ø°Ø§ Ø³ÙŠØ³Ø§Ø¹Ø¯Ùƒ ÙÙŠ Ù…Ø¹Ø±ÙØ© Ø¹Ø¯Ø¯ Ù…Ø±Ø§Øª Ø§Ù„ØªÙƒØ±Ø§Ø± Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©.
                </div>
            </div>

            <div class="question-text">
                ÙƒÙ… Ù…Ø±Ø© Ù†ÙƒØ±Ø± Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ­Ø±Ùƒ ÙˆØ§Ù„Ø¯ÙˆØ±Ø§Ù† Ù„Ø±Ø³Ù… Ù…Ø«Ù„Ø« Ù…ØªØ³Ø§ÙˆÙŠ Ø§Ù„Ø£Ø¶Ù„Ø§Ø¹ØŸ
            </div>

            <div class="options">
                <div class="option" onclick="selectOption(this, false)">2</div>
                <div class="option" onclick="selectOption(this, true)">3</div>
                <div class="option" onclick="selectOption(this, false)">4</div>
                <div class="option" onclick="selectOption(this, false)">6</div>
            </div>

            <div class="navigation">
                <button class="btn btn-secondary" onclick="prevQuestion()">â†’ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
                <button class="btn btn-primary" onclick="nextQuestion()">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ â†</button>
            </div>
        </div>

        <!-- Question 5: Multiple Choice -->
        <div class="question-card" id="question5">
            <div class="question-header">
                <div class="question-number">5</div>
                <div class="question-points">2 Ù†Ù‚Ø·Ø©</div>
            </div>

            <div class="instruction-box">
                <div class="instruction-title">ğŸ’¡ Ù†ØµÙŠØ­Ø© Ù„Ù„Ø­Ù„:</div>
                <div class="instruction-text">
                    Ø§Ù„Ù…Ø«Ù„Ø« Ø§Ù„Ù…ØªØ³Ø§ÙˆÙŠ Ø§Ù„Ø£Ø¶Ù„Ø§Ø¹ Ù„Ù‡ 3 Ø²ÙˆØ§ÙŠØ§ Ù…ØªØ³Ø§ÙˆÙŠØ©. Ù…Ø¬Ù…ÙˆØ¹ Ø²ÙˆØ§ÙŠØ§ Ø§Ù„Ù…Ø«Ù„Ø« = 180Â°. Ø§Ø­Ø³Ø¨ ÙƒÙ„ Ø²Ø§ÙˆÙŠØ© Ø¯Ø§Ø®Ù„ÙŠØ©ØŒ Ø«Ù… Ø§Ø·Ø±Ø­Ù‡Ø§ Ù…Ù† 180Â° Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ø¯ÙˆØ±Ø§Ù† Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©.
                </div>
            </div>

            <div class="question-text">
                ÙƒÙ… Ø¯Ø±Ø¬Ø© ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¯ÙˆØ± Ø§Ù„Ø³Ø¨Ø±Ø§ÙŠØª Ù„Ø±Ø³Ù… Ù…Ø«Ù„Ø« Ù…ØªØ³Ø§ÙˆÙŠ Ø§Ù„Ø£Ø¶Ù„Ø§Ø¹ØŸ
            </div>

            <div class="options">
                <div class="option" onclick="selectOption(this, false)">90Â°</div>
                <div class="option" onclick="selectOption(this, false)">180Â°</div>
                <div class="option" onclick="selectOption(this, true)">120Â°</div>
                <div class="option" onclick="selectOption(this, false)">60Â°</div>
            </div>

            <div class="navigation">
                <button class="btn btn-secondary" onclick="prevQuestion()">â†’ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
                <button class="btn btn-primary" onclick="nextQuestion()">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ â†</button>
            </div>
        </div>

        <!-- Question 6: Multiple Choice -->
        <div class="question-card" id="question6">
            <div class="question-header">
                <div class="question-number">6</div>
                <div class="question-points">3 Ù†Ù‚Ø§Ø·</div>
            </div>

            <div class="instruction-box">
                <div class="instruction-title">ğŸ’¡ Ù†ØµÙŠØ­Ø© Ù„Ù„Ø­Ù„:</div>
                <div class="instruction-text">
                    ÙÙƒØ± ÙÙŠ Ù…Ø¹Ù†Ù‰ ÙƒÙ„Ù…Ø© "erase" ÙÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©ØŒ ÙˆÙ…Ø§ Ø§Ù„Ø°ÙŠ ÙŠØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ù…Ø³Ø­ ÙÙŠ Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ø±Ø³Ù….
                </div>
            </div>

            <div class="question-text">
                Ù…Ø§ ÙˆØ¸ÙŠÙØ© Ø¨Ù„ÙˆÙƒ erase allØŸ
            </div>

            <div class="options">
                <div class="option" onclick="selectOption(this, false)">ÙŠÙ…Ø³Ø­ Ø§Ù„Ø³Ø¨Ø±Ø§ÙŠØª</div>
                <div class="option" onclick="selectOption(this, false)">ÙŠØ®Ù„ÙŠ Ø§Ù„Ø³Ø¨Ø±Ø§ÙŠØª ÙŠÙˆÙ‚Ù</div>
                <div class="option" onclick="selectOption(this, true)">ÙŠÙ…Ø³Ø­ ÙƒÙ„ Ø§Ù„Ø±Ø³ÙˆÙ…Ø§Øª Ø§Ù„Ù„ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø³ØªÙŠØ¬</div>
                <div class="option" onclick="selectOption(this, false)">ÙŠØºÙŠØ± Ø®Ù„ÙÙŠØ© Ø§Ù„Ø³ØªÙŠØ¬</div>
            </div>

            <div class="navigation">
                <button class="btn btn-secondary" onclick="prevQuestion()">â†’ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
                <button class="btn btn-primary" onclick="nextQuestion()">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ â†</button>
            </div>
        </div>

        <!-- Question 7: Multiple Choice -->
        <div class="question-card" id="question7">
            <div class="question-header">
                <div class="question-number">7</div>
                <div class="question-points">3 Ù†Ù‚Ø§Ø·</div>
            </div>

            <div class="instruction-box">
                <div class="instruction-title">ğŸ’¡ Ù†ØµÙŠØ­Ø© Ù„Ù„Ø­Ù„:</div>
                <div class="instruction-text">
                    Ø§Ù„Ù…Ø±Ø¨Ø¹ Ù„Ù‡ 4 Ø£Ø¶Ù„Ø§Ø¹ Ù…ØªØ³Ø§ÙˆÙŠØ© Ùˆ4 Ø²ÙˆØ§ÙŠØ§ Ù‚Ø§Ø¦Ù…Ø©. ÙÙƒØ± ÙÙŠ Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ÙˆÙƒÙ… Ø¯Ø±Ø¬Ø© ØªØ³Ø§ÙˆÙŠ.
                </div>
            </div>

            <div class="question-text">
                Ù„Ø±Ø³Ù… Ù…Ø±Ø¨Ø¹ØŒ ÙƒÙ… Ø¯Ø±Ø¬Ø© ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¯ÙˆØ± Ø§Ù„Ø³Ø¨Ø±Ø§ÙŠØª ÙÙŠ ÙƒÙ„ Ù…Ø±Ø©ØŸ
            </div>

            <div class="options">
                <div class="option" onclick="selectOption(this, false)">120Â°</div>
                <div class="option" onclick="selectOption(this, true)">90Â°</div>
                <div class="option" onclick="selectOption(this, false)">60Â°</div>
                <div class="option" onclick="selectOption(this, false)">180Â°</div>
            </div>

            <div class="navigation">
                <button class="btn btn-secondary" onclick="prevQuestion()">â†’ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
                <button class="btn btn-primary" onclick="finishQuiz()">Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</button>
            </div>
        </div>

        <!-- Results -->
        <div class="results-container" id="results">
            <h2 style="color: #052532; margin-bottom: 30px;">ğŸ‰ Ø§Ù†ØªÙ‡ÙŠØª Ù…Ù† Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±!</h2>
            <div class="score-circle" id="scoreCircle">
                <div class="score-inner">
                    <div class="score-text" id="scoreText">0/22</div>
                    <div style="color: #666;">Ù†Ù‚Ø·Ø©</div>
                </div>
            </div>
            <div style="font-size: 1.3em; color: #052532; margin-bottom: 30px;">
                Ù†Ø³Ø¨Ø© Ø§Ù„Ù†Ø¬Ø§Ø­: <span id="percentage">0%</span>
            </div>
            <button class="btn btn-primary" onclick="showReview()">ğŸ“‹ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª</button>
        </div>

        <!-- Review Section -->
        <div class="review-container" id="reviewContainer">
            <h2 style="color: #052532; margin-bottom: 30px; text-align: center;">ğŸ“‹ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª</h2>
            <div id="reviewContent"></div>
        </div>
    </div>

    <script>
        let currentQuestion = 1;
        let totalQuestions = 7;
        let timeLeft = 596; // 9 minutes 56 seconds
        let userAnswers = {};
        let quizCompleted = false;

        // Check if quiz was already taken
        function checkQuizStatus() {
            const quizTaken = localStorage.getItem('quiz_shapes_completed');
            if (quizTaken) {
                document.getElementById('blockedMessage').style.display = 'block';
                document.querySelector('.quiz-header').style.display = 'none';
                document.querySelector('.progress-bar').style.display = 'none';
                document.querySelectorAll('.question-card').forEach(card => {
                    card.style.display = 'none';
                });
                return true;
            }
            return false;
        }

 

      
        function updateProgress() {
            const progress = (currentQuestion - 1) / totalQuestions * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        }

        function selectOption(element, isCorrect) {
            // Remove previous selections
            element.parentNode.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // Select current option
            element.classList.add('selected');
            
            // Store answer
            userAnswers[currentQuestion] = {
                selected: element.textContent,
                correct: isCorrect,
                type: 'multiple_choice'
            };
        }

        function nextQuestion() {
            // Validate current question
            if (!validateCurrentQuestion()) {
                alert('ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø¤Ø§Ù„ Ù‚Ø¨Ù„ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©');
                return;
            }

            // Hide current question
            document.getElementById(`question${currentQuestion}`).classList.remove('active');
            
            // Show next question
            currentQuestion++;
            if (currentQuestion <= totalQuestions) {
                document.getElementById(`question${currentQuestion}`).classList.add('active');
                updateProgress();
            }
        }

        function prevQuestion() {
            // Hide current question
            document.getElementById(`question${currentQuestion}`).classList.remove('active');
            
            // Show previous question
            currentQuestion--;
            document.getElementById(`question${currentQuestion}`).classList.add('active');
            updateProgress();
        }

        function validateCurrentQuestion() {
            if (currentQuestion === 1) {
                // Matching question
                const dropdowns = document.querySelectorAll('#question1 .dropdown');
                let allAnswered = true;
                let answers = {};
                
                dropdowns.forEach(dropdown => {
                    if (!dropdown.value) {
                        allAnswered = false;
                    } else {
                        const label = dropdown.parentNode.querySelector('.matching-label').textContent;
                        answers[label] = {
                            selected: dropdown.value,
                            correct: dropdown.value === dropdown.dataset.answer
                        };
                    }
                });
                
                if (allAnswered) {
                    userAnswers[1] = {
                        answers: answers,
                        type: 'matching'
                    };
                }
                
                return allAnswered;
            } else if (currentQuestion === 3) {
                // Ordering question
                const dropdowns = document.querySelectorAll('#question3 .dropdown');
                let allAnswered = true;
                let answers = {};
                
                dropdowns.forEach((dropdown, index) => {
                    if (!dropdown.value) {
                        allAnswered = false;
                    } else {
                        answers[`step${index + 1}`] = {
                            selected: dropdown.value,
                            correct: dropdown.value === dropdown.dataset.answer
                        };
                    }
                });
                
                if (allAnswered) {
                    userAnswers[3] = {
                        answers: answers,
                        type: 'ordering'
                    };
                }
                
                return allAnswered;
            } else {
                // Multiple choice questions
                return userAnswers[currentQuestion] !== undefined;
            }
        }

        function finishQuiz() {
            if (!validateCurrentQuestion()) {
                alert('ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø¤Ø§Ù„ Ù‚Ø¨Ù„ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±');
                return;
            }

            // Mark quiz as completed
            localStorage.setItem('quiz_shapes_completed', 'true');
            
            // Hide all questions
            document.querySelectorAll('.question-card').forEach(card => {
                card.style.display = 'none';
            });
            
            // Calculate and show results
            calculateResults();
            document.getElementById('results').style.display = 'block';
        }

        function calculateResults() {
            let totalScore = 0;
            let maxScore = 22; // Total points

            // Question 1 (4 points)
            if (userAnswers[1]) {
                let correctCount = 0;
                Object.values(userAnswers[1].answers).forEach(answer => {
                    if (answer.correct) correctCount++;
                });
                totalScore += correctCount;
            }

            // Questions 2, 4, 5 (2 points each)
            [2, 4, 5].forEach(qNum => {
                if (userAnswers[qNum] && userAnswers[qNum].correct) {
                    totalScore += 2;
                }
            });

            // Question 3 (4 points)
            if (userAnswers[3]) {
                let correctCount = 0;
                Object.values(userAnswers[3].answers).forEach(answer => {
                    if (answer.correct) correctCount++;
                });
                totalScore += correctCount;
            }

            // Questions 6, 7 (3 points each)
            [6, 7].forEach(qNum => {
                if (userAnswers[qNum] && userAnswers[qNum].correct) {
                    totalScore += 3;
                }
            });

            const percentage = Math.round((totalScore / maxScore) * 100);
            
            document.getElementById('scoreText').textContent = `${totalScore}/${maxScore}`;
            document.getElementById('percentage').textContent = `${percentage}%`;
            
            // Update score circle
            const scoreAngle = (totalScore / maxScore) * 360;
            document.getElementById('scoreCircle').style.setProperty('--score-angle', `${scoreAngle}deg`);
        }

        function showReview() {
            document.getElementById('reviewContainer').style.display = 'block';
            generateReview();
        }

        function generateReview() {
            const reviewContent = document.getElementById('reviewContent');
            let reviewHTML = '';

            // Question 1 Review
            reviewHTML += generateMatchingReview(1, 'Ø·Ø§Ø¨Ù‚ Ø¨ÙŠÙ† Ù‚ÙŠÙ… Ø£Ø¨Ø¹Ø§Ø¯ Ø§Ù„Ø³ØªÙŠØ¬ (Stage) Ù…Ø¹ Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„ØµØ­ÙŠØ­Ø©:', {
                'Ø£Ù‚Ù„ Ù‚ÙŠÙ…Ø© Ù„Ù€ X': '-240',
                'Ø£Ø¹Ù„Ù‰ Ù‚ÙŠÙ…Ø© Ù„Ù€ X': '240',
                'Ø£Ù‚Ù„ Ù‚ÙŠÙ…Ø© Ù„Ù€ Y': '-180',
                'Ø£Ø¹Ù„Ù‰ Ù‚ÙŠÙ…Ø© Ù„Ù€ Y': '180'
            }, 'Ø§Ù„Ø³ØªÙŠØ¬ ÙÙŠ Ø³ÙƒØ±Ø§ØªØ´ Ù„Ù‡ Ø£Ø¨Ø¹Ø§Ø¯ Ø«Ø§Ø¨ØªØ©: Ø§Ù„Ø¹Ø±Ø¶ 480 Ø¨ÙƒØ³Ù„ (Ù…Ù† -240 Ø¥Ù„Ù‰ 240) ÙˆØ§Ù„Ø§Ø±ØªÙØ§Ø¹ 360 Ø¨ÙƒØ³Ù„ (Ù…Ù† -180 Ø¥Ù„Ù‰ 180). Ø§Ù„Ù†Ù‚Ø·Ø© (0,0) ÙÙŠ Ø§Ù„Ù…Ù†ØªØµÙ.');

            // Question 2 Review
            reviewHTML += generateMultipleChoiceReview(2, 'Ø£ÙŠ Ø¨Ù„ÙˆÙƒ ÙŠØ®Ù„ÙŠ Ø§Ù„Ø³Ø¨Ø±Ø§ÙŠØª ÙŠØ±Ø³Ù… Ø¹Ù„Ù‰ Ø§Ù„Ø³ØªÙŠØ¬ØŸ', 'pen down block', 'Ø¨Ù„ÙˆÙƒ pen down ÙŠØ®Ù„ÙŠ Ø§Ù„Ø³Ø¨Ø±Ø§ÙŠØª ÙŠØ¨Ø¯Ø£ Ø§Ù„Ø±Ø³Ù…ØŒ Ø¨ÙŠÙ†Ù…Ø§ pen up ÙŠÙˆÙ‚Ù Ø§Ù„Ø±Ø³Ù…. erase all ÙŠÙ…Ø³Ø­ Ø§Ù„Ø±Ø³ÙˆÙ…Ø§Øª Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø©.');

            // Question 3 Review
            reviewHTML += generateOrderingReview(3, 'Ø±ØªØ¨ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØµØ­ÙŠØ­Ø© Ù„Ø±Ø³Ù… Ù…Ø±Ø¨Ø¹:', [
                'clear the stage',
                'pen down', 
                'repeat 4 times: move 100 steps and turn 90 degrees',
                'pen up'
            ], 'Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„ØµØ­ÙŠØ­: Ø£ÙˆÙ„Ø§Ù‹ Ù†Ù…Ø³Ø­ Ø§Ù„Ø³ØªÙŠØ¬ØŒ Ø«Ù… Ù†Ø¨Ø¯Ø£ Ø§Ù„Ø±Ø³Ù…ØŒ Ø«Ù… Ù†ÙƒØ±Ø± Ø§Ù„Ø­Ø±ÙƒØ© ÙˆØ§Ù„Ø¯ÙˆØ±Ø§Ù†ØŒ ÙˆØ£Ø®ÙŠØ±Ø§Ù‹ Ù†ÙˆÙ‚Ù Ø§Ù„Ø±Ø³Ù….');

            // Question 4 Review
            reviewHTML += generateMultipleChoiceReview(4, 'ÙƒÙ… Ù…Ø±Ø© Ù†ÙƒØ±Ø± Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ­Ø±Ùƒ ÙˆØ§Ù„Ø¯ÙˆØ±Ø§Ù† Ù„Ø±Ø³Ù… Ù…Ø«Ù„Ø« Ù…ØªØ³Ø§ÙˆÙŠ Ø§Ù„Ø£Ø¶Ù„Ø§Ø¹ØŸ', '3', 'Ø§Ù„Ù…Ø«Ù„Ø« Ù„Ù‡ 3 Ø£Ø¶Ù„Ø§Ø¹ØŒ Ù„Ø°Ù„Ùƒ Ù†Ø­ØªØ§Ø¬ 3 ØªÙƒØ±Ø§Ø±Ø§Øª Ù„Ø±Ø³Ù…Ù‡.');

            // Question 5 Review
            reviewHTML += generateMultipleChoiceReview(5, 'ÙƒÙ… Ø¯Ø±Ø¬Ø© ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¯ÙˆØ± Ø§Ù„Ø³Ø¨Ø±Ø§ÙŠØª Ù„Ø±Ø³Ù… Ù…Ø«Ù„Ø« Ù…ØªØ³Ø§ÙˆÙŠ Ø§Ù„Ø£Ø¶Ù„Ø§Ø¹ØŸ', '120Â°', 'Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ø¯ÙˆØ±Ø§Ù† Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ© = 360Â° Ã· 3 Ø£Ø¶Ù„Ø§Ø¹ = 120Â°. Ù‡Ø°Ù‡ Ù„ÙŠØ³Øª Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ© (60Â°) Ø¨Ù„ Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©.');

            // Question 6 Review
            reviewHTML += generateMultipleChoiceReview(6, 'Ù…Ø§ ÙˆØ¸ÙŠÙØ© Ø¨Ù„ÙˆÙƒ erase allØŸ', 'ÙŠÙ…Ø³Ø­ ÙƒÙ„ Ø§Ù„Ø±Ø³ÙˆÙ…Ø§Øª Ø§Ù„Ù„ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø³ØªÙŠØ¬', 'Ø¨Ù„ÙˆÙƒ erase all ÙŠÙ…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±Ø³ÙˆÙ…Ø§Øª Ù…Ù† Ø§Ù„Ø³ØªÙŠØ¬ØŒ ÙˆÙ„ÙŠØ³ Ø§Ù„Ø³Ø¨Ø±Ø§ÙŠØª Ù†ÙØ³Ù‡.');

            // Question 7 Review
            reviewHTML += generateMultipleChoiceReview(7, 'Ù„Ø±Ø³Ù… Ù…Ø±Ø¨Ø¹ØŒ ÙƒÙ… Ø¯Ø±Ø¬Ø© ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¯ÙˆØ± Ø§Ù„Ø³Ø¨Ø±Ø§ÙŠØª ÙÙŠ ÙƒÙ„ Ù…Ø±Ø©ØŸ', '90Â°', 'Ø§Ù„Ù…Ø±Ø¨Ø¹ Ù„Ù‡ 4 Ø²ÙˆØ§ÙŠØ§ Ù‚Ø§Ø¦Ù…Ø©ØŒ ÙƒÙ„ Ø²Ø§ÙˆÙŠØ© = 90Â°. Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ø¯ÙˆØ±Ø§Ù† Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ© = 360Â° Ã· 4 = 90Â°.');

            reviewContent.innerHTML = reviewHTML;
        }

        function generateMultipleChoiceReview(qNum, question, correctAnswer, explanation) {
            const userAnswer = userAnswers[qNum];
            const isCorrect = userAnswer && userAnswer.correct;
            const status = isCorrect ? 'âœ…' : 'âŒ';
            
            return `
                <div class="review-question">
                    <div class="review-header">
                        <h3>Ø§Ù„Ø³Ø¤Ø§Ù„ ${qNum}</h3>
                        <span class="review-status">${status}</span>
                    </div>
                    <p><strong>${question}</strong></p>
                    <div class="answer-comparison">
                        <div class="answer-box student-answer">
                            <strong>Ø¥Ø¬Ø§Ø¨ØªÙƒ:</strong><br>
                            ${userAnswer ? userAnswer.selected : 'Ù„Ù… ØªØ¬Ø¨'}
                        </div>
                        <div class="answer-box correct-answer">
                            <strong>Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©:</strong><br>
                            ${correctAnswer}
                        </div>
                    </div>
                    <div class="explanation">
                        <strong>Ø§Ù„Ø´Ø±Ø­:</strong> ${explanation}
                    </div>
                </div>
            `;
        }

        function generateMatchingReview(qNum, question, correctAnswers, explanation) {
            const userAnswer = userAnswers[qNum];
            let reviewHTML = `
                <div class="review-question">
                    <div class="review-header">
                        <h3>Ø§Ù„Ø³Ø¤Ø§Ù„ ${qNum}</h3>
                        <span class="review-status">`;
            
            let correctCount = 0;
            if (userAnswer) {
                Object.values(userAnswer.answers).forEach(answer => {
                    if (answer.correct) correctCount++;
                });
            }
            
            reviewHTML += correctCount === 4 ? 'âœ…' : 'âŒ';
            reviewHTML += `</span>
                    </div>
                    <p><strong>${question}</strong></p>
                    <div style="margin: 20px 0;">`;
            
            Object.entries(correctAnswers).forEach(([key, value]) => {
                const userValue = userAnswer && userAnswer.answers[key] ? userAnswer.answers[key].selected : 'Ù„Ù… ØªØ¬Ø¨';
                const isCorrect = userValue === value;
                reviewHTML += `
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px; padding: 10px; background: ${isCorrect ? '#f0fff4' : '#fff5f5'}; border-radius: 5px;">
                        <span><strong>${key}:</strong></span>
                        <span>Ø¥Ø¬Ø§Ø¨ØªÙƒ: ${userValue} | Ø§Ù„ØµØ­ÙŠØ­Ø©: ${value} ${isCorrect ? 'âœ…' : 'âŒ'}</span>
                    </div>
                `;
            });
            
            reviewHTML += `</div>
                    <div class="explanation">
                        <strong>Ø§Ù„Ø´Ø±Ø­:</strong> ${explanation}
                    </div>
                </div>
            `;
            
            return reviewHTML;
        }

        function generateOrderingReview(qNum, question, correctOrder, explanation) {
            const userAnswer = userAnswers[qNum];
            let reviewHTML = `
                <div class="review-question">
                    <div class="review-header">
                        <h3>Ø§Ù„Ø³Ø¤Ø§Ù„ ${qNum}</h3>
                        <span class="review-status">`;
            
            let correctCount = 0;
            if (userAnswer) {
                Object.values(userAnswer.answers).forEach(answer => {
                    if (answer.correct) correctCount++;
                });
            }
            
            reviewHTML += correctCount === 4 ? 'âœ…' : 'âŒ';
            reviewHTML += `</span>
                    </div>
                    <p><strong>${question}</strong></p>
                    <div style="margin: 20px 0;">`;
            
            correctOrder.forEach((step, index) => {
                const userStep = userAnswer && userAnswer.answers[`step${index + 1}`] ? userAnswer.answers[`step${index + 1}`].selected : 'Ù„Ù… ØªØ¬Ø¨';
                const isCorrect = userStep === step;
                reviewHTML += `
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px; padding: 10px; background: ${isCorrect ? '#f0fff4' : '#fff5f5'}; border-radius: 5px;">
                        <span><strong>Ø§Ù„Ø®Ø·ÙˆØ© ${index + 1}:</strong></span>
                        <span>Ø¥Ø¬Ø§Ø¨ØªÙƒ: ${userStep} | Ø§Ù„ØµØ­ÙŠØ­Ø©: ${step} ${isCorrect ? 'âœ…' : 'âŒ'}</span>
                    </div>
                `;
            });
            
            reviewHTML += `</div>
                    <div class="explanation">
                        <strong>Ø§Ù„Ø´Ø±Ø­:</strong> ${explanation}
                    </div>
                </div>
            `;
            
            return reviewHTML;
        }

        // Initialize quiz
        window.onload = function() {
            if (!checkQuizStatus()) {
                updateProgress();
            }
        };
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9623488ed63ae17f',t:'MTc1MzAyMzE1Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
